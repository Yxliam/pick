<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
        <link rel="dns-prefetch" href="//3gimg.qq.com" />
        <link rel="dns-prefetch" href="//zxpic.gtimg.com" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,shrink-to-fit=no" />
        <meta name="MobileOptimized" content="320" />
        <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" >
        <meta http-equiv="Pragma" content="no-cache" />
        <meta name="HandheldFriendly" content="true" />
        <meta name="copyright" content="" />
        <meta name="keywords" content="找法网，法律快车，法律咨询" />
        <meta name="description" content="" />
        <meta name="x5-page-mode" content="no-title" />
        <link rel="apple-touch-icon-precomposed" href="" />
        <script>
                !(function(win, doc){
                        function setFontSize() {
                                var baseFontSize = 100;
                                var baseWidth = 320;
                                var clientWidth = document.documentElement.clientWidth || window.innerWidth;
                                var innerWidth = Math.max(Math.min(clientWidth, 480), 320);

                                var rem = 100;

                                if (innerWidth > 362 && innerWidth <= 375) {
                                        rem = Math.floor(innerWidth / baseWidth * baseFontSize * 0.9);
                                }

                                if (innerWidth > 375) {
                                        rem = Math.floor(innerWidth / baseWidth * baseFontSize * 0.84);
                                }

                                window.__baseREM = rem;
                                document.querySelector('html').style.fontSize = rem + 'px';
                        }
                        var evt = 'onorientationchange' in win ? 'orientationchange' : 'resize';
                        var timer = null;
                        win.addEventListener(evt, function () {
                                clearTimeout(timer);
                                timer = setTimeout(setFontSize, 300);
                        }, false);
                        win.addEventListener("pageshow", function(e) {
                                if (e.persisted) {
                                        clearTimeout(timer);
                                        timer = setTimeout(setFontSize, 300);
                                }
                        }, false);
                        setFontSize();
                }(window, document));
        </script>
        <link rel="stylesheet" href="./css/basic.css">
    <link rel="stylesheet" href="./css/iosSelect.css">
</head>

<body>
    <a href="https://github.com/zhoushengmufc/iosselect">查看文档</a>
    <div class="form-item item-line" id="select_contact">
        <label>省、市</label>
        <div class="pc-box">
            <input type="hidden" name="contact_province_code" data-id="0001" id="contact_province_code" value="" data-province-name="">
            <input type="hidden" name="contact_city_code" id="contact_city_code" value="" data-city-name=""><span data-city-code="510100" data-province-code="510000" data-district-code="510105" id="show_contact">四川省 成都市 青羊区</span>
        </div>
    </div>
</body>
<script src="./js//zepto.js"></script>
<script src="./js/iscroll.js"></script>
<script src="./js/areaData_v2.js"></script>
<script src="./js/iosSelect.js"></script>
<script type="text/javascript">
var selectContactDom = $('#select_contact');
var showContactDom = $('#show_contact');
var contactProvinceCodeDom = $('#contact_province_code');
var contactCityCodeDom = $('#contact_city_code');
selectContactDom.bind('click', function() {
    var sccode = showContactDom.attr('data-city-code');
    var scname = showContactDom.attr('data-city-name');

    var oneLevelId = showContactDom.attr('data-province-code');
    var twoLevelId = showContactDom.attr('data-city-code');
    var threeLevelId = showContactDom.attr('data-district-code');
    var iosSelect = new IosSelect(3, [iosProvinces, iosCitys, iosCountys], {
        title: '地址选择',
        itemHeight: 35,
        relation: [1, 1, 0, 0],
        oneLevelId: oneLevelId,
        twoLevelId: twoLevelId,
        threeLevelId: threeLevelId,
        callback: function(selectOneObj, selectTwoObj, selectThreeObj) {
            contactProvinceCodeDom.val(selectOneObj.id);
            contactProvinceCodeDom.attr('data-province-name', selectOneObj.value);
            contactCityCodeDom.val(selectTwoObj.id);
            contactCityCodeDom.attr('data-city-name', selectTwoObj.value);

            showContactDom.attr('data-province-code', selectOneObj.id);
            showContactDom.attr('data-city-code', selectTwoObj.id);
            showContactDom.attr('data-district-code', selectThreeObj.id);
            showContactDom.html(selectOneObj.value + ' ' + selectTwoObj.value + ' ' + selectThreeObj.value);
        }
    });
});
</script>
</body>

</html>
